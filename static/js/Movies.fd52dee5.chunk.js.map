{"version":3,"file":"static/js/Movies.fd52dee5.chunk.js","mappings":"iMACA,EAAuB,yBAAvB,EAAwD,0BAAxD,EAAwF,wBAAxF,EAAuH,yBAAvH,EAAuJ,yBAAvJ,EAAwL,0B,0DCKhLA,EAAWC,EAAAA,EAAAA,OAEJ,SAASC,IACtB,OAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACA,GAAsBJ,EAAAA,EAAAA,UAAS,IAA/B,eAAOK,EAAP,KAAYC,EAAZ,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAaF,EAAaG,IAAI,UAQpCC,EAAAA,EAAAA,YAAU,WACW,OAAfF,IACJG,EAAAA,EAAAA,IAAiBH,GACdI,MAAK,SAAAC,GAEJ,OADAX,EAAcW,GACPT,EAAO,OAEfU,OAAM,SAAAC,GAAK,OAAIX,EAAOW,EAAMC,cAC9B,CAACR,IAEJ,IAIQS,EAA2BhB,EAA3BgB,QAASC,EAAkBjB,EAAlBiB,cAEjB,OACE,iCACE,kBAAMC,SAxBW,SAAAC,GACnBA,EAAEC,iBACFd,EAAgB,CAAEe,MAAOvB,IACzBC,EAAQ,KAqBwBuB,UAAWC,EAAzC,WACE,kBACEC,KAAK,OACL1B,KAAK,OACL2B,MAAO3B,EACP4B,SAba,SAAC,GAA2B,IAAfD,EAAc,EAAxBE,OAAUF,MAChC1B,EAAQ0B,EAAMG,SAaRN,UAAWC,KAGb,mBAAQC,KAAK,SAASF,UAAWC,EAAjC,uBAIDP,GACC,wBACGA,EAAQa,KAAI,YAA6B,IAA1BC,EAAyB,EAAzBA,GAAIC,EAAqB,EAArBA,eAClB,OACE,eAAaT,UAAWC,EAAxB,UACE,SAAC,KAAD,CACES,GAAE,UAAKtC,EAAL,YAAeoC,GACjBG,MAAO,CAAEvC,OAAAA,EAAQwC,KAAK,iBAAD,OAAmB3B,IACxCe,UAAWC,EAHb,SAKGQ,KANID,QAYb,KACe,IAAlBb,GACC,cAAGK,UAAWC,EAAd,mLACE,KACHrB,GAAM,eAAGoB,UAAWC,EAAd,+IAAiDrB,KAAW,MACnE,SAAC,KAAD","sources":["webpack://goit-react-hw-05-movies/./src/components/Movies/MoviesList/MoviesList.module.css?77a3","components/Movies/MoviesList/MoviesList.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesList_form__79P36\",\"input\":\"MoviesList_input__mVdgT\",\"btn\":\"MoviesList_btn__nzSDi\",\"item\":\"MoviesList_item__152lm\",\"link\":\"MoviesList_link__vFggZ\",\"title\":\"MoviesList_title__wr80a\"};","import s from './MoviesList.module.css';\nimport { useState, useEffect } from 'react';\nimport { Outlet, Link, useSearchParams } from 'react-router-dom';\nimport { FetchSearchMovie } from 'service/FetchMovies';\nimport { constans } from 'helpers/constans';\n\nconst { movies } = constans;\n\nexport default function Movies() {\n  const [name, setName] = useState('');\n  const [searchFilm, setSearchFilm] = useState({});\n  const [err, setErr] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const backSearch = searchParams.get('query');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: name });\n    setName('');\n  };\n\n  useEffect(() => {\n    if (backSearch === null) return;\n    FetchSearchMovie(backSearch)\n      .then(res => {\n        setSearchFilm(res);\n        return setErr('');\n      })\n      .catch(error => setErr(error.message));\n  }, [backSearch]);\n\n  const handleChange = ({ target: { value } }) => {\n    setName(value.trim());\n  };\n\n  const { results, total_results } = searchFilm;\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={s.form}>\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          onChange={handleChange}\n          className={s.input}\n        />\n\n        <button type=\"submit\" className={s.btn}>\n          Search\n        </button>\n      </form>\n      {results ? (\n        <ul>\n          {results.map(({ id, original_title }) => {\n            return (\n              <li key={id} className={s.item}>\n                <Link\n                  to={`${movies}/${id}`}\n                  state={{ movies, from: `/movies?query=${backSearch}` }}\n                  className={s.link}\n                >\n                  {original_title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      ) : null}\n      {total_results === 0 ? (\n        <p className={s.title}>Введіть правильну назву фільма</p>\n      ) : null}\n      {err ? <p className={s.title}>Такий фільм не знайденно {err}</p> : null}\n      <Outlet />\n    </>\n  );\n}\n"],"names":["movies","constans","Movies","useState","name","setName","searchFilm","setSearchFilm","err","setErr","useSearchParams","searchParams","setSearchParams","backSearch","get","useEffect","FetchSearchMovie","then","res","catch","error","message","results","total_results","onSubmit","e","preventDefault","query","className","s","type","value","onChange","target","trim","map","id","original_title","to","state","from"],"sourceRoot":""}